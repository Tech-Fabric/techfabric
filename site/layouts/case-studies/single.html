{{ define "main" }} {{ $section := .Site.GetPage "section" .Section }}

<style>
    .case-study-page__body {
        background: {{ .Params.colors.bodyBackground | safeCSS}};
    }

    .case-study-page__footer {
        background: {{ .Params.colors.footerBackground}};
        color: {{ .Params.colors.footerColor | safeCSS }};
    }

    .case-study-page__body h5,
    .case-study-page__footer h5 {
        color: {{ .Params.colors.headingColor | safeCSS }};
    }

    .case-study-page__footer h5 {
        color: {{ .Params.colors.footerHeadingColor | safeCSS }};
    }
</style>

<article>
    <div class="case-study-page">
        <div class="case-study-page__header">
            <a href="/case-studies" class="btn btn-outline-gradient case-study-page__back-button">
                <span class="btn-outline-gradient__inner">
                    <img class="brand-list__icon" src="./svg/arrow.svg">
                    <span class="btn-outline-gradient__text">Back To Case Studies</span>
                </span>
            </a>

            <div class="container">
                <h5 class="text-uppercase">Client - {{ .Params.preview.category }}</h5>
                <h2>{{ .Title }}</h2>
            </div>
        </div>

        <div class="case-study-page__body">
            <h2 class="case-study-page__description">{{ .Params.preview.description }}</h2>

            <div class="case-study-page__screens">
                {{ if .Params.detailed.heroImage }}
                {{ printf `<img src="%s" alt="%s">` .Params.detailed.heroImage .Params.preview.title | safeHTML }}
                {{end}}
            </div>

            <div class="container">
                <div class="markdown">
                    <h5>The Client</h5>

                    <p>{{.Params.detailed.client}}</p>

                    <h5>The Challenge</h5>
                    <p>{{.Params.detailed.challenge}}</p>
                </div>
            </div>

            <div class="case-study-page__fullwidth">
                {{ if .Params.detailed.fullwidthImage }}
                {{ printf `<img src="%s" alt="%s" class="case-study-page__fullwidth">` .Params.detailed.fullwidthImage | safeHTML }}
                {{ end }}
            </div>
        </div>

        <div class="case-study-page__footer">
            <div class="container">
                <div class="markdown">
                    <h5>The Solution</h5>
                    <p>{{.Params.detailed.solution}}</p>

                    <h5>The Result</h5>
                    <p>{{.Params.detailed.result}}</p>
                </div>
            </div>

            <div class="brand-block">
                <div class="container">
                    <h1 class="text-center text-brand-secondary text-light">Letâ€™s Make Something Amazing Together</h1>
                </div>
            </div>

            {{ partial "contact-form" }}
        </div>
    </div>
</article>
{{ end }}
